import random

def number_guessing_game():
    """
    1ï½100ã®é–“ã®æ•°å­—ã‚’å½“ã¦ã‚‹ã‚²ãƒ¼ãƒ 
    """
    # 1ï½100ã®é–“ã®ãƒ©ãƒ³ãƒ€ãƒ ãªæ•°å­—ã‚’ç”Ÿæˆ
    secret_number = random.randint(1, 100)
    attempts = 0
    
    print("=" * 50)
    print("æ•°å½“ã¦ã‚²ãƒ¼ãƒ ã¸ã‚ˆã†ã“ãï¼")
    print("1ï½100ã®é–“ã®æ•°å­—ã‚’å½“ã¦ã¦ãã ã•ã„ã€‚")
    print("=" * 50)
    
    while True:
        try:
            # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã‚’å—ã‘å–ã‚‹
            guess = int(input("\nã‚ãªãŸã®äºˆæƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„: "))
            attempts += 1
            
            # å…¥åŠ›å€¤ã®ç¯„å›²ãƒã‚§ãƒƒã‚¯
            if guess < 1 or guess > 100:
                print("âš ï¸  1ï½100ã®é–“ã®æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
                continue
            
            # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã¨æ­£è§£ã‚’æ¯”è¼ƒã—ã¦ãƒ’ãƒ³ãƒˆã‚’è¡¨ç¤º
            if guess == secret_number:
                # æ­£è§£æ™‚ã®å‡¦ç†ï¼šè©¦è¡Œå›æ•°ã‚’è¡¨ç¤ºã—ã¦ã‚²ãƒ¼ãƒ çµ‚äº†
                print(f"\nğŸ‰ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼æ­£è§£ã§ã™ï¼")
                print(f"ç­”ãˆã¯ {secret_number} ã§ã—ãŸã€‚")
                print(f"è©¦è¡Œå›æ•°: {attempts} å›")
                break
            elif guess < secret_number:
                # å…¥åŠ›ãŒæ­£è§£ã‚ˆã‚Šå°ã•ã„å ´åˆã®ãƒ’ãƒ³ãƒˆ
                print(f"ğŸ“ˆ ã‚‚ã£ã¨å¤§ãã„æ•°å­—ã§ã™ï¼ (è©¦è¡Œå›æ•°: {attempts})")
            else:
                # å…¥åŠ›ãŒæ­£è§£ã‚ˆã‚Šå¤§ãã„å ´åˆã®ãƒ’ãƒ³ãƒˆ
                print(f"ğŸ“‰ ã‚‚ã£ã¨å°ã•ã„æ•°å­—ã§ã™ï¼ (è©¦è¡Œå›æ•°: {attempts})")
                
        except ValueError:
            print("âš ï¸  æ•°å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚")
        except KeyboardInterrupt:
            print("\n\nã‚²ãƒ¼ãƒ ã‚’çµ‚äº†ã—ã¾ã™ã€‚")
            break
        except Exception as e:
            print(f"âš ï¸  ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: {e}")

if __name__ == "__main__":
    number_guessing_game()

